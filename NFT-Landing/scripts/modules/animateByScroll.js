import{isNullOrWhiteSpaces}from"./general.js";export default class AnimateByScroll{constructor(t=!1,...e){AnimateByScroll.repeatingAnimations=t,AnimateByScroll.elements=e,this.checkAndToggleAnimationForElements();for(const i of AnimateByScroll.elements)i.setMediaProperties();window.addEventListener("scroll",(()=>{this.checkAndToggleAnimationForElements()}),!1),window.addEventListener("resize",(()=>{for(const t of AnimateByScroll.elements)t.setMediaProperties()}),!1)}checkAndToggleAnimationForElements(){AnimateByScroll.isScrolling&&window.requestAnimationFrame((()=>{for(const t of AnimateByScroll.elements)this.isPartiallyVisible(t)?setTimeout((()=>{t.htmlElement.classList.add("active")}),t.timeoutBeforeStart):AnimateByScroll.repeatingAnimations&&t.htmlElement.classList.remove("active"),AnimateByScroll.isScrolling=!1})),AnimateByScroll.isScrolling=!0}isPartiallyVisible(t){var e=t.htmlElement.getBoundingClientRect(),i=e.top,o=e.bottom;let r=e.height*t.animStartCoeff;return i+r>=0&&r+window.innerHeight>=o}}AnimateByScroll.isScrolling=!0;export class AnimationElement{constructor(t,e=1,i=0,...o){if(isNullOrWhiteSpaces(t)){if(e<=0||e>1)throw new RangeError("animateStartCoeff < 0 or > 1");throw new RangeError("Selector is null of white spaces!")}this.timeoutBeforeStart=i,this.htmlElement=document.querySelector(t),this.animStartCoeff=e,this.defTimeoutBeforeStart=i,this.defAnimStartCoeff=e,this.mediaQueries=o}setMediaProperties(){for(let t of this.mediaQueries)window.innerWidth<=t.activeWitdh?(this.animStartCoeff=t.animateStartCoeff,this.timeoutBeforeStart=t.timeoutBeforeStart):(this.animStartCoeff=this.defAnimStartCoeff,this.timeoutBeforeStart=this.defTimeoutBeforeStart)}}export class AnimationMediaQuery{constructor(t,e,i){if(e<=0||e>1)throw new RangeError("animateStartCoeff < 0 or > 1");this.activeWitdh=t,this.animateStartCoeff=e,this.timeoutBeforeStart=i}}